<html>
<head>
  <title>Bio-JS ANI-sw</title>
  <meta charset="UTF-8" />
  <script src='../lib/prototype.js' type='text/javascript'></script>

  <script src='../src/Bio.js' type='text/javascript'></script>
  <script src='../src/Bio/Tools/SmithWaterman.js'></script>
  <script type='text/javascript'>
  <!--
  Event.observe(window,"load",function(){

    testSW();
  });

  function testSW(){
    fastaSequenceInput=$('testToolsSW').select('.input')[0];
    fastaSequenceOutput=$('testToolsSW').select('.output')[0];

    seqin=new Bio.SeqIO.Fasta({
      el:fastaSequenceInput,
      html:false
    });
    var query=seqin.next_seq();
    var subject=seqin.next_seq();
    var SW=new Bio.Tools.SmithWaterman({query:query,subject:subject});
    SW.run();

    fastaSequenceOutput.update(SW.report());
    //fastaSequenceOutput.update(formattedMatch+"\n"+SW.percentIdentity+"\n"+SW.positives+"/"+SW.alignmentLength);
  }
  //-->
  </script>
  <style type='text/css'>
    textarea.input,textarea.output{
      height:30em;
      width:40em;
      font-family:monospace;
    }
  </style>
</head>
<body>
  <p>This is the demo page, which has clear source code for you to follow. Look at the <a href="doc/index.html">documentation</a> for details.</p>
  <table class="inputOutput">
    <tr>
      <th colspan="2">
        Input textarea to output textarea
      </th>
    </tr>
    <tr id='testToolsSW'>
      <td>
        <textarea class='input' id='input'>
>H.ducreyi_S000002352.seq
GCAGGCTTAACACATGCAAGTCGAACGGTAGCACGAAGGACTTGCTCCTTGGGTGACGAG
TGGCGGACGGGTGAGTAATGCTTGGGAATCTGGCTTATGGAGGGGGATAACTACGGGAAA
CTGTAGCTAATACCGCGTAATATCTTCGGATTAAAGGGTGGGACCTTCGGGCCACCTGCC
ATAAGATGAGCCCAAGTGG
>H.paraphrohaemolyticus_S000436705.seq
ATTGAAGAGTTTGATCANGGCTCAGATTGANCGCTGGCGGCAGGCTTAACANATGCAAGT
CGAACGGTAACAGGGATTAGCTNGCTNATTGCTGACGAGTGGCGGACGGGTGAGTAATGC
TTGGGAATCTGGCNTATGGAGGGGGATAACTACGGGAAACTGTAGCTAATACCGCGTAAT
ATCGGAAGATTAAAGGGTGGGACTTTCGGGCCACCTGCCATAAGATGAGCCCAAGTGG
</textarea>
      </td>
      <td>
        <textarea class='output'></textarea>
      </td>
    </tr>
    <tr>
      <td colspan="2" align='center'>
        <button onclick="javascript:testSW();">Perform Smith-Waterman alignment</button>
      </td>
    </tr>
  </table>
  <p>
    This site is <a href="../LICENSE">free for noncommercial use</a>.
  </p>
</body>
</html>
